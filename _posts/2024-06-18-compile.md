---
redirect_from: /_posts/compiling_fundamentals
title: 编译原理复习
tags: CS专业课
---

####  目录

- [目录](#目录)
- [绪论](#绪论)
- [文法与语言](#文法与语言)
- [词法分析](#词法分析)



#### 绪论

1. 程序的翻译通常有两种方式：**编译**和**解释**。
2. 编译程序的功能是将高级语言源程序编译成目标程序，完成**高级语言程序**到**低级语言程序**的等价翻译。
3. 编译程序绝大多数时间花在**表格管理**上。
4. 编译程序的工作过程：词法分析、语法分析、语义分析、中间代码生成、代码优化、目标代码生成。前三者为分析部分，后三者为综合部分。
![image](/assets/images/compiler/compile_struct.png)
5. 一遍（趟）翻译与多遍（趟）翻译。若某语言允许变量先使用后定义，则应采用**多遍翻译**。
- 多遍翻译：
![image](/assets/images/compiler/multicomp.png)
- 一遍翻译：
![image](/assets/images/compiler/oncecomp.png)

#### 文法与语言

1. 句型：语法树的叶子从左到右；
   短语：语法树中每棵子树的叶子从左到右；
   直接短语：每棵简单子树（只有父子两层的子树）的叶子从左到右；
   句柄：最左边简单子树的叶子从左到右；
   素短语：至少包含一个终结符，且不包含其他素短语的短语；
   最左素短语：语法树最左边的素短语。
2. 句型是文法开始符号的广义推导，仅仅由终结符组成的句型叫句子。文法所定义的语言是一个文法中所有**句子**的集合。
3. 对于**无二义文法**的句型，其句柄是唯一的（对于一个任意的文法，其句柄可能是不唯一的）。
4. 如果一个文法存在某个句子，对应两棵不同的语法树，那么该文法二义。
5. 不存在一个算法，可以在有限步骤内确切判定一个文法是否二义，即，文法的二义性是**不可判定的**。
6. 四种文法所对应的语言之间的关系：$L3 \subseteq L2 \subseteq L1 \subseteq L0$.
   0型文法：无限制文法；
   1型文法：每个产生式满足$\alpha A \beta \rightarrow \alpha \mu \beta$，其中$A$为非终结符，$\mu$不为空；
   2型文法：每个产生式满足$A \rightarrow \beta$，其中$A$为非终结符；
   3型文法：每个产生式有$A \rightarrow \alpha B$、$A \rightarrow \alpha$的形式（右线性文法），或者$A \rightarrow B \alpha$、$A \rightarrow \alpha$的形式（左线性文法），其中$A$、$B$为非终结符，$\alpha$为空或终结符串。
7. 文法的化简：
   - 形如$A \rightarrow A$的产生式；
   - 无用非终结符（维护一个可以推导出终结符号串的非终结符号的集合$Q$，逐步扩大这个集合，直到不能更大）；
   - 不可达文法符号（维护可达符号集$R$和产生式集合$L$，$L$初始包含所有开始符号的产生式。逐步将可达符号加入符号集$R$，并标记所取的产生式，将产生式右部的非终结符对应的产生式加入产生式集合$L$，直到$L$为空或只含有标记过的产生式）。

#### 词法分析

1. 词法分析根据变换时扫描源程序的次数，分为**一次扫描式**和**多次扫描式**。
- 一次扫描式：将字符串表示的源程序，经词法分析以后，得到一个个单词系列，再作语法分析。
<div align=center>
<img src=/assets/images/compiler/oncescan.png width=60%/>
</div>

- 多次扫描式：将字符串表示的源程序，经词法分析以后，得到一个单词符号，立即作语法分析，再取下一个单词...
<div align=center>
<img src=/assets/images/compiler/multiscan.png width=50%/>
</div>